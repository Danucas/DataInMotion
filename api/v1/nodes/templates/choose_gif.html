<h1 title="choose">Choose the gif to send</h1>
{% for gif in gifs %}
	<video autoplay loop>
		<source src="{{ gif.1 }}" type="video/mp4" pos="{{ gif.0 }}">
	</video>
{% endfor %}
<div selected="gif">Selected gif
	
</div>
<style>
	h1[title="choose"] {
		font-family: sans-serif;
		color: white;
		font-size: 20px;
	}
	video {
		height: 10vw;
		max-width: 45%;
		cursor: pointer;
		border-radius: 12px;
		margin: 6px;
	}
	video:hover {
		border: 6px solid salmon;
		margin: 0px;

	}
	video:active {
		border: 6px solid rgb(114, 250, 209);
	}
	div[selected="gif"] {
		background-color: rgba(0, 0, 0, 0.924);
		color: white;
		font-size: 24px;
		width: 100%;
		height: 100%;
		display: none;
		font-family: sans-serif;
		position: absolute;
		font-weight: bold;
		top: 0;
		left: 0;
	}	
	div[selected="gif"] video{
		width: 150px;
		cursor: pointer;
		border-radius: 12px;
		margin: 6px;
	}
</style>
<script>
	const videos = document.getElementsByTagName('video');
	for (video of videos) {
		video.addEventListener('click', function (evn) {
			$('[selected="gif"]').css('display', 'block');
			const vid_cont = document.querySelector('[selected="gif"]')
			vid_cont.appendChild(evn.target);
			vid_cont.style.width = '180px';
			vid_cont.style.borderRadius = '18px';
			// console.log(this.firstElementChild);
			const pos = this.firstElementChild.getAttribute('pos')
			const nodeId = '{{ id }}'
			fetch(`http://dnart.tech/api/v1/gif_selection?pos=${pos}&id=${nodeId}`)
			.then(function (resp) {
				console.log(resp);
			});
		});
	}
</script>