function autosave(t){const e=$(".container").attr("board_id");$.ajax({type:"POST",dataType:"json",contentType:"application/json",url:`${global.prot}://${global.domain}${global.apiPort}/api/v1/boards/${e}`,data:JSON.stringify(board),success:function(t){},error:function(t){}})}let tmpOut;function deep(t,e){if(void 0===t){const t=$(".data_extractor");if(t.empty(),Array.isArray(tmpOut)&&"string"!=typeof tmpOut){let e=0;for(const n of tmpOut){const o=$('<div cont="true"></div>'),i=$('<div node="true"></div>'),s=$("<h3>copy</h3>"),c=$("<h3>select</h3>"),p=$("<div></div>");$(p).addClass("options_container");const d=$("<h2></h2>");if(o.attr("path",e.toString()),typeof n!=typeof[]&&typeof n!=typeof{}){$(d).text(e+": "+n[e]);const t=n[e].toString();(t.includes("https://",0)||t.includes("http://",0))&&$(d).on("click",function(){window.open(t)})}else $(s).css("visibility","hidden"),$(d).text(e),$(d).on("click",function(){$(this).attr("clicked")?($(this).removeAttr("clicked"),$(this).parent().parent().find("div[cont=true]").remove()):($(this).attr("clicked",!0),deep($(this).text(),$(this).text()))});$(d).mousemove(function(){$(this).parent().find("h3").css("display","block")}),$(d).mouseleave(function(){$(this).parent().find("h3").css("display","none")}),$(c).click(function(){}),$(p).mouseleave(function(){$(this).parent().find("h3").css("display","none")}),$(p).mousemove(function(){$(this).parent().find("h3").css("display","block")}),$(s).click(function(){copyToClipboard($(this).parent().parent().parent().attr("path"))}),$(i).append(d),$(p).append(c),$(p).append(s),$(i).append(p),$(o).append(i),t.append($(o)),e++}}else if(typeof tmpOut==typeof{})for(const e in tmpOut){const n=$('<div cont="true"></div>');$(n).attr("path",e);const o=$('<div node="true"></div>'),i=$("<h3>copy</h3>"),s=$("<h3>select</h3>"),c=$("<div></div>");$(c).addClass("options_container");const p=$("<h2></h2>");if(typeof tmpOut[e]!=typeof[]&&typeof tmpOut[e]!=typeof{}){$(p).text(e+": "+tmpOut[e]);const t=tmpOut[e].toString();(t.includes("https://",0)||t.includes("http://",0))&&$(p).on("click",function(){window.open(t)})}else $(i).css("visibility","hidden"),$(p).text(e),$(p).on("click",function(){$(this).attr("clicked")?($(this).removeAttr("clicked"),$(this).parent().parent().find("div[cont=true]").remove()):($(this).attr("clicked",!0),deep($(this).text(),$(this).text()))});$(p).mousemove(function(){$(this).parent().find("h3").css("display","block")}),$(p).mouseleave(function(){$(this).parent().find("h3").css("display","none")}),$(s).click(function(){}),$(c).mouseleave(function(){$(this).parent().find("h3").css("display","none")}),$(c).mousemove(function(){$(this).parent().find("h3").css("display","block")}),$(i).click(function(){copyToClipboard($(this).parent().parent().parent().attr("path"))}),$(o).append(p),$(c).append(s),$(c).append(i),$(o).append(c),$(n).append(o),t.append($(n))}else{const t=$('[path="'+e+'"]'),n=$(t).find("div")[0];if(void 0!==n)$(n).remove();else{const e=$("<div></div>"),n=$("<h2></h2>");$(n).css("margin-left","30px"),$(n).css("background-color","grey"),$(n).text(tmpOut),$(e).append(n),$(t).append($(e))}}}else{const t=["#00FFB2","#78d4f8","#7979ff","#af58be","#ff5858","#c20505","#ff5100"],n=e.split("/");let o=0,i=tmpOut;for(const t of n)i=isNaN(Number(t))?i[t]:i[Number(t)],o++;if(Array.isArray(i)&&"string"!=typeof tmpOut){let n=0;for(const s of i){const c=$('[path="'+e+'"]'),p=$('<div cont="true"></div>');$(p).attr("path",e+"/"+n.toString());const d=$('<div node="true"></div>'),a=$("<h3>select</h3>"),l=$("<h3>copy</h3>"),r=$("<div></div>");$(r).addClass("options_container");const f=$("<h2></h2>");if($(p).css("margin-left","30px"),$(f).css("background-color",t[o]),typeof s!=typeof[]&&typeof s!=typeof{}){$(f).css("background-color","white"),$(f).css("border","1px solid black"),$(f).css("color","black"),$(f).text(n.toString()+": "+i[n].toString());const t=i[n].toString();(t.includes("https://",0)||t.includes("http://",0))&&$(f).on("click",function(){window.open(t)}),$(l).css("visibility","visible")}else{if($(l).css("visibility","hidden"),void 0!==s&&null!==s&&typeof s==typeof[]&&s.length<1||void 0!==s&&null!==s&&typeof s==typeof{}&&Object.keys(s).length<1)$(f).css("background-color","white"),$(f).css("border","1px solid black"),$(f).css("color","black"),$(l).css("visibility","visible");else if(null===s||void 0===s)continue;$(f).text(n),$(f).on("click",function(){if($(this).attr("clicked"))$(this).removeAttr("clicked"),$(this).parent().parent().find("div[cont=true]").remove();else{const t=$(this).parent().parent().attr("path");$(this).attr("clicked",!0),deep($(this).text(),t)}})}$(f).mousemove(function(){$(this).parent().find("h3").css("display","block")}),$(f).mouseleave(function(){$(this).parent().find("h3").css("display","none")}),$(a).click(function(){}),$(r).mouseleave(function(){$(this).parent().find("h3").css("display","none")}),$(r).mousemove(function(){$(this).parent().find("h3").css("display","block")}),$(l).click(function(){copyToClipboard($(this).parent().parent().parent().attr("path"))}),$(d).append(f),$(r).append(a),$(r).append(l),$(d).append(r),$(p).append(d),$(c).append($(p)),n++}}else if(typeof i==typeof{})for(const n in i){const s=$('[path="'+e+'"]'),c=$('<div cont="true"></div>'),p=$('<div node="true"></div>'),d=$("<h3>copy</h3>"),a=$("<h3>select</h3>"),l=$("<div></div>");$(l).addClass("options_container"),$(c).attr("path",e+"/"+n);const r=$("<h2></h2>");if($(c).css("margin-left","30px"),$(r).css("background-color",t[o]),typeof i[n]!=typeof[]&&typeof i[n]!=typeof{}){$(r).css("background-color","white"),$(r).css("border","1px solid black"),$(r).css("color","black"),$(r).text(n+": "+i[n].toString());const t=i[n].toString();(t.includes("https://",0)||t.includes("http://",0))&&$(r).on("click",function(){window.open(t)}),$(d).css("visibility","visible")}else{if($(d).css("visibility","hidden"),void 0!==i[n]&&null!==i[n]&&typeof i[n]==typeof[]&&i[n].length<1||void 0!==i[n]&&null!==i[n]&&typeof i[n]==typeof{}&&Object.keys(i[n]).length<1)$(r).css("background-color","white"),$(r).css("border","1px solid black"),$(r).css("color","black"),$(d).css("visibility","visible");else if(null===i[n]||void 0===i[n])continue;$(r).text(n),$(r).on("click",function(){if($(this).attr("clicked"))$(this).removeAttr("clicked"),$(this).parent().find("div[cont=true]").empty(),$(this).parent().find("div[cont=true]").remove();else{const t=$(this).parent().parent().attr("path");$(this).attr("clicked",!0),deep($(this).text(),t)}})}$(r).mousemove(function(){$(this).parent().find("h3").css("display","block")}),$(r).mouseleave(function(){$(this).parent().find("h3").css("display","none")}),$(a).click(function(){}),$(l).mouseleave(function(){$(this).parent().find("h3").css("display","none")}),$(l).mousemove(function(){$(this).parent().find("h3").css("display","block")}),$(d).click(function(){copyToClipboard($(this).parent().parent().parent().attr("path"))}),$(p).append(r),$(l).append(a),$(l).append(d),$(p).append(l),$(c).append(p),$(s).append($(c))}else{const t=$('[path="'+e+'"]'),n=$(t).find("div")[0];if(void 0!==n)$(n).remove();else{const e=$("<div></div>"),n=$("<h2></h2>");$(n).css("margin-left","30px"),$(n).css("background-color","grey"),$(n).text(i),$(e).append(n),$(t).append($(e))}}}}function showConsole(t){if(void 0===t&&(t=tmpOut),tmpOut=t,$(".console_cont").css("display","block"),typeof tmpOut==typeof[])for(const t in tmpOut){const e=$('[name="'+t+'_cont"]');if(e){const t=$(e).find(".media_player");void 0!==t&&null!==t&&"none"!==$(t).css("display")&&void 0!==tmpOut&&($(t).parent().parent().find(".media_cont").css("display","none"),loadMedia(t))}}$(".console_cont h1").on("click",function(){hideConsole()}),deep(void 0,void 0)}function hideConsole(){$(".console_cont").css("display","none")}function copyToClipboard(t){const e=document.createElement("input"),n=t.split("/");let o=tmpOut;for(const t of n)o=isNaN(Number(t))?o[t]:o[Number(t)];e.value=o,document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(e)}$(window).on("load",function(){$(".save").on("click",autosave),$(".toggle_console").on("click",function(){showConsole(void 0)})});